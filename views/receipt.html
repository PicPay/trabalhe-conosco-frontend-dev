<section class="receipt pos-relative defaultGradientBg defaultHeight" ng-controller="receiptCtrl">
	<aside class="modalToShowViewsHeader hide-on-small-only" ng-click="setModalView('')">
		<p>Confirmação de pagamento <i class="small material-icons right">close</i></p>
	</aside>

	<div class="container">
		<div class="row">
			<div class="col s12 m10 offset-m1">
				<p  class="hide-on-med-and-up"><a href="javascript:void(0)" ng-click="setModalView('')" class="goBack"><i class="small material-icons">chevron_left</i> Voltar</a></p>
				<div class="row valign-wrapper personNameId">
					<div class="col s3">
						<img ng-src="{{receipt.data.transaction.destination_user.img}}" alt="{{receipt.data.transaction.destination_user.name}}" class="circle responsive-img" />
					</div>
					<div class="col s9">
						<span class="black-text">
							<span class="title">{{receipt.data.transaction.destination_user.name}}</span>
							<p class="subText">id: {{receipt.data.transaction.destination_user.id}} {{receipt.data.transaction.destination_user.username}}</p>
						</span>
					</div>
				</div>
			</div>

			<div class="col s10 offset-s1">
				<div class="messages info" ng-if="receipt.data.transaction.status == 'Aprovada'">
					<h2>Pagamento confirmado!</h2>
				</div>
				<div class="messages danger" ng-if="receipt.data.transaction.status == 'Recusada'">
					<h3>Pagamento recusado. <br>Por favor, tente novamente utilizando outro cartão.</h3>
				</div>
			</div>

			<div class="col s8 offset-s2" ng-if="receipt.data.transaction.status == 'Aprovada'">
				<ul class="receiptList">
					<li class="receiptList-item">
						<span class="">Transação</span> <span class="right"><b>{{receipt.data.transaction.id}}</b></span>
					</li>
					<li class="receiptList-item">
						<span class="">Data</span> <span class="right"><b>{{dateAndTime.toLocaleDateString()}} - {{dateAndTime.getHours()}}:{{dateAndTime.getMinutes()}}</b></span>
					</li>
					<li class="receiptList-item">
						<span class="">Cartão</span> <span class="right"><b>**** **** **** {{receipt.config.data.card_number.substr(receipt.config.data.card_number.card_number.length - 4)}}</b></span>
					</li>
					<li class="receiptList-item">
						<span class="">Valor</span> <span class="right"><b>{{receipt.data.transaction.value | currency}}</b></span>
					</li>

				</ul>
			</div>
		</div>
	</div>

	<aside class="actions">
		<div class="container">
			<div class="row">
				<div class="col s12">
					<a class="btn callToAction left" href="javascript:void(0)" ng-click="setModalView('')">Voltar</a>
					<a class="btn callToAction teal right" href="javascript:void(0)" ng-click="setModalView('payment')">
						<span ng-if="receipt.data.transaction.status == 'Aprovada'">Pagar novamente</span>
						<span class="tryAgain" ng-if="receipt.data.transaction.status == 'Recusada'">Tentar novamente</span> 
					</a>
				</div>
			</div>
		</div>
		
	</aside>
</section>